function formValidation(e){function t(e){e=e.parentNode;e.classList.contains("form__error")&&(e.querySelector(".form__error-label").remove(),e.classList.remove("form__error"))}function r(e,t){var e=e.parentNode,r=document.createElement("label");r.classList.add("form__error-label"),r.textContent=t,e.classList.add("form__error"),e.append(r)}let a=!0;for(const o of e.querySelectorAll("input, textarea"))t(o),"true"!=o.dataset.email||o.value.match(/[-.\w]+@([\w-]+\.)+[\w-]+/g)||(t(o),r(o,"Email введён неверно!"),a=!1),"true"==o.dataset.required&&""==o.value&&(t(o),r(o,"Поле не заполнено!"),a=!1);return a}document.getElementById("messageForm").addEventListener("submit",function(e){e.preventDefault(),1==formValidation(this)&&alert("Сообшение отправлено успешно!")});