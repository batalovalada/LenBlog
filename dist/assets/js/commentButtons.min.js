const replyButtons=document.querySelectorAll(".replyBtn"),hideButtons=document.querySelectorAll(".hideBtn");function replyHandler(e){e.preventDefault();e=this.closest("li");let t=e.querySelector(".commentForm"),n=e.querySelector(".commentsList");null==n&&(n=createElement("ul","comments__list commentsList"),e.append(n)),null==t&&(t=commentFormCopy.cloneNode(!0),n.parentNode.insertBefore(t,n),this.classList.remove("replyBtn"),this.classList.add("cancelBtn"),this.innerText="отмена",this.addEventListener("click",cancelHandler,{once:!0}));e=t.querySelector(".commentInput");e.addEventListener("input",e=>{e=e.target;e.style.height=commentFormH+"px",e.style.height=e.scrollHeight+2+"px"}),e.focus(),t.addEventListener("submit",newCommentHandler),e.value="",e.style.height=commentFormH+"px"}function hideHandler(e){e.preventDefault();e=this.closest("li").querySelector(".commentsList");e.classList.toggle("hide"),this.innerText=e.classList.contains("hide")?"показать ответы":"скрыть ответы"}function cancelHandler(){var e=this.closest("li");e.querySelector(".commentForm").remove(),null==e.querySelector(".commentsList").children[0]&&e.querySelector(".commentsList").remove(),this.classList.remove("cancelBtn"),this.classList.add("replyBtn"),this.innerText="ответить"}replyButtons.forEach(e=>{e.addEventListener("click",replyHandler)}),hideButtons.forEach(e=>{e.addEventListener("click",hideHandler)});